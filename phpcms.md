各位互联网精英们下午好，今天我给大家带来了我们PHPCMSV最新产品——V9。PHPCMS从05年开始，至今已有6年了。下面我给大家简单介绍一下什么是PHPCMS，然后从V9特色出发简单的阐述一下我们PHPV9给大家带来哪些功能亮点。这里着重讲一下PHPCMSV9架构设计、内容模型和数据模型。PHPCMS是基于PHP+MYSQL开发的内容管理系统。最早一版发布于05年3月24日。至今已有7年时间，用户分布在各行各业。其中被政府机构，教育门户所推崇。截止目前已经为全球近十万站长提供自主建站的平台。我们最早版本是2.4，之后3.0，2007到2008年，去年发布最新版——PHPCMSV9。最开始只有一个简单文章管理系统，到现在已经是拥有非常之多的模块，包括：文章的图片、下载分类清晰、广告财务等一些模块。今天我主要介绍一下V9的一些功能特色。

首先我们的V9采用了MVC架构，同时做到了功能模块化运行。PHPCMS能够走到今天是我们再不断积累的结果。由最初的简单文章模块，发展到今天如此之多模块是一个漫长的积累过程。模块化运行非常方便，我们的站长或者用户自己的需求人性化的安装卸载模块。再就V9具有非常简单的模块引擎，使模块完全与模板分离。V9最强的是超强自定义功能，问一下在座有多少人用过PHPCMS?非常高兴还有这么多人用我们的产品。没有用过的观众请认真听我讲一下V9的自定义功能，这块是PHPCMSV9最大一个特色。那么特色在哪呢？在于我们管理人员不需要二次开发，不需要改任何数据库可以通过鼠标轻轻点几下便可以新增一个字段。还有卓越的二次开发能力。使大家在二次开发时非常容易。我们从V9发布到现在已经有半年时间，在我们论坛上已经有非常之多的一些来自第三方的一些网友，也为我们提供了很多二次开发的一些模块还有插件。

V9的突出特点，还有就是可以将不同数据表分离，减轻单台服务器的压力。为系统网站了一个安全的一个银行机制，我们后台增强了一个有银行卡保密功能，像工商银行电子口令卡功能，可以通过打印机其他的方式可以把这个卡片打印出来随身携带，或者发给我们一些编辑做到每个人都拥有一套非常安全登陆一个验证。这里还有非常之多的功能，如站群功能、多发布点功能，全站索引功能等等。如此之多功能我们前台是如何展示呢？这是我们V9前台页面，首页包括很多功能，如：公告、专题、排行、调查问卷、还有幻灯片、还有推荐、列表、内容页，图表、正方反方评论功能、图片展示功能、类似搜索引擎的全站搜索、支持按照模型时间，其他的一些设置。支持第三方一些索引，这是我们会员中心，已经集成一些服务短消息。这是我们非常强大的一个专题功能，类似网易和腾讯的一些大型的一个门户专题。专题里面用到最多功能就是碎片。什么是专题？将不同内容整合到一个页面里面就是专题。如果原始数据存在文章列表页，我们需要展示到专题里面，就可以通过一些碎片功能实现。碎片有支持图库功能，还有新发布一个分类信息。类似于58同城分类，不仅支持单地区设置，而且支持不同的地区比如说北京、上海……通过上面一些切换可以切换到不同城市。虽然看起来是非常简单功能，设计蕴含具有非常丰富的理念，这里所有的东西都是通过自定义模型实现的。这是信息的一些列表页，上面价格还有是什么是通过自定义模型设计。我们做的是一款比较通用的产品。我们希望让不同人使用这个产品，我们需要为这个产品设计一个通用功能，有的人可能需要筛选是属于哪一个厅、市。有的人需要其他的一些设置将所有通用设置，用字段设置来实现这个功能。

最后就是我的3G门户，通过手机可以非常方便访问我们的一个页面。我们讲一下我们后台，我们后台设计按照我们国内一些使用习惯，采用框架结构设计。要面向国外网站，这种框架式结构是不太符合国外人使用习惯。V9的化分还是比较通用，上面是主要一些导航，菜单，中间主功能区，最右侧是我们风格切换功能。我们编辑往往停留在后台的时间还是比较长，每个人对色彩要求是不同的。我们提供了在后台可以自定义切换风格，切换到不同的样式。下面主要介绍一下我们的功能菜单，V9功能菜单全部的工作菜单是通过我们的一个权限还有菜单表实现的。所有能看到的菜单都能通过我们自己手动编辑修改，还有自定义添加。那么我们在设计这个产品时为什么要这样分呢？首先我们将经常使用一些功能放在设置里面。比如说站点设置、发展设置等。我们以模块化运行，模块是最多的，我们将模块列举出来，放在模块前面，在线充值、评论。内容这部分是我们最重要的部分，内容部分可以看到倒数第二行是模型管理。可以非常方便添加管理模型，可以看到采集管理模块和专题属于模型区。为什么我们要在设计的时候为什么要将它放在内容区，不放在模块区？这是我们一个使用习惯，经常做网站的人会发现，采集的东西，采集完成需要管理再入库，发布到网站上。然后我们做完栏目修改，进行添加文章，把常用操作放在内容。还有我们用户管理，还有扩展管理，扩展管理主要是一些其他的一些木马查杀，不常用功能放在扩展菜单之下。如此之多菜单不同管理员显示不同的菜单，我们如何控制它呢？我们做产品设计时候，如何设计它呢？

我们是基于MVC开发，每个方法动作需要权限划分，非常清楚全部在菜单管理体现出来，看一下我们的菜单添加，为了在二次开发中用户能够非常方便使用我们的CMS来进行二次开发，增加自己已有的功能，可以自己进行添加菜单，在我们做的时候，我们需要怎么考虑这个事情呢，为什么要做这个添加菜单呢，添加菜单对二次开发用户，我们需要学习用户，需要怎么处理这个事情，比如说我们要添加一个模块名，添加一个文件名，为什么这么做呢，主要看一下方法名，牵扯到里面有一些权限判断，我们将下滑线开头，方法名不需要验证权限的，我们需要后台用户登陆，更新一个首页，每个人应该拥有这个权限来进行更新，不需要额外判断，这个方法是通过GS方法开拓，它的权限集成于上层权限，我们可以看一下最下面的地址，我们的M模块，C就是它的控制层，A就是方法，这个大家应该非常清晰，就是一个MVC架构，最后有一个，我们有大量网站，网站用户经常会遭到黑客攻击，是利用管理员自身权限进行二次利用，到底怎么利用呢，比如说我们管理员在线投稿功能，非法连接地址写在提交地址，管理员后台审核的时候，事件会自动触发，我们是为了放置在后台进行审核的时候，将用户的一些非法信息进行执行，我们菜单权限可以非常清晰管理，可以选择不同站点，每个站点有不同权限选择，使用这个用户登陆以后，这个用户自己有哪些权限会只显示哪部分，我们从底层设计来看一下我们设计V9是如何考虑的，我们不是以框架来设计的，框架设计不是最好的，但是我们CMS可以做到非常之好，我们在设计的时候，是如何考虑的呢，首先我们需要考虑的就是我们需要做一个什么样的东西。

我们需要考虑就是，我们要以MVC形式开发，不是面向过程方式开发，什么是MVC，需要有一个入口文件，这个入口文件可以是多个，再考虑我们是以模块化运行框架，我们怎么实现每个模块都能够独立运行呢，我们主框架提供了一个目录，每一个模块有独立目录组，模板目录里面同样有这么多的一些模板结构。在考虑到因为我们浏览器对每个网页请求数，连接数是有限制的，为了加快网页浏览访问速度，我们将系统附件分为不同的三个文件夹，为什么这么设计呢，这样设计我们可以给每个目录绑定不同的二级域名，我们把程序绑在一个域名下，同时请求一个网页的时候，可能需要四秒时间，那么我们将其分开为四个不同的二级域名，我们的访问速度要快四倍以上，之后就是考虑安全问题，这是非常重要的，所以在设计程序的时候，我们需要考虑到如何设计目录结构，首先我们要尽量减少可写目录，在根目录下面我们只有两个目录具有可写权限，其他目录设置为只读模式就可以了。

这个是我们内容管理的一个后台界面，我们讲我们后台管理设置为三个主框架，一个是菜单，内容管理菜单，然后是我们的列表页，我们的浏览器分辨率越来越大，有更多空间来展示我们内容，这样设计就是使我们会非常清晰的管理我们的后台，如果屏幕分辨率非常低的话，可以通过左边小小按纽隐藏起来，这里最重要想讲的就是一个推送功能，在这个推送功能基础之上我们可以将所有文章批量推送到不同的推荐位，不同的专题，其他的栏目以及站点，什么是推荐位，我们在首页列表页，放了不同标记，放好标记以后，我们通过推送功能，将一墙文章，多条可以同时推送到首页或者列表页，推荐位数量不限制，推荐位里面文章还可以独立编辑，设置，也就是说原文章发表以后，推荐位里面的文章管理使得文章标题适合网页所在位置，这是我们文章发布页面，看似一个非常简单的文章发布内容页，但是包括我们无数的心血，无数精华，字段是通过自定义字段输出到页面，为什么做这个模型，我们会发现不管是添加下载还是添加新闻信息，我们都有标题字段，关键字字段，共同属性组成我们的内容元素，我们需要做一件事情，如何更方便的让用户进行二次开发，不用进行数据库管理，在数据库添上一个字段，手写一个表单元素非常轻松的使用这个功能，把我们模型功能引入到了一个平台之中，因为模型确实太好用了。

可以看到这个编译器是非常熟悉的，我们为什么没有自己设计和创建一个自己编辑器呢，因为我们要做如此之大的CMS系统，我们要考虑内容是很多的，我们没有精力和时间考虑到一件事情上，我们取别人长处弥补自己的短处，在他原有基础上我们也增加了很多功能，我们在这里面增加了我们一个在线截图功能，很多人非常敏感这个功能是属于类似于QQ截图功能，通过网页按纽可以把桌面图片非常轻松插入到编译器里面，它只支持IE浏览器，腾讯浏览器，我们的下载发布页面与我们的文章发布页面不同，下载发布页面多了一个批量上传功能，我们设计模型的时候，我们需要复制原来的文章模型，将里面新增加一个附件上传功能，就能实现文章下载功能。这个是我们图片拆解功能。做这个功能的时候，开始我们是使用其他的一些GS来显示，效果无法达到，比如说里面我需要使用一种字体，这个图片上加一个字，通过F非常就可以方便容易的实现。

最后我需要讲的是最具价值的模型管理，模型管理中，V9我们默认集成三个模型，文件，下载，还有一个图片模型，我们模型可以通过导入，导出功能非常方便添加，我们只要添加一个模型、一个标题，一个数据库名称及选择一个风格就可以实现一个新的模型增加，我们模型是这样考虑的，我们每添加一个模型，我们的数据库就会增加两张表，一个是主表，一个是附属表，主表小表，比较文本预制类，需要在附表中可以非常容易的提高一个数据库的负载能力。这是我们的默认文章字段模型，每个字段可以设置不同属性，是否是默认字段，是否是必填项，是否可以进行投稿，我们的会员投稿的时候只要在这里设置一个字段来判断会员是否具有投稿权限，如果没有将不会显示，添加一个字段也是非常方便的，我们内置了一些字段类型，这些字段大家非常熟悉，我这里要讲的最突出的一个就是字段万能模型，这是一个信息模型，设计信息模型可以发现，房子户型是什么，几室，几厅，几卫，第几层，按照常规设计，做程序我们循环这个字段，一行一行显示出来，通过我们的万能字段将已经添加好的字段进行组合，把所有想组合的字段放在指定位置，可以非常轻松实现，这是万能字段的添加，里面可以将已经添加好的字段通过字段名称在大括号中填上几室几厅，需要添加一些GS效果，都可以自己扩充，只有万能字段需要自己添加一些代码，其他字段默认自动生成。

还有我们分享数据表分布部署功能，是我们V9的一个亮点，我们的用户会给我们反应，同事我们自己也会发现，比如说评论数据库非常大的时候，我们会发现有一个评论数据库直接拖垮我们整个服务器，我们的专题是通过静态生成的，只有评论需要大量请求，所以我们得从底层将数据表进行分离，将不同数据表模型，数据模型分离到不同的数据库服务器之中，不仅如此，比如说我们有论坛，我需要调论坛数据，或者其他数据，通过数据模型功能也可以非常方便的将其他数据的内容调到我们自己的CMS系统之中来。我们现在正在做一个事情就是我们现在非常之多在进行一些合作，比如今天主办方，我们与他们合作，让我们的产品融入到我们PHP这个大家庭来，让更多人学习我们产品，最后让我们开发者都能够加入到PHPCMS中，第三，我们产品的一个核心原则，从最早做开源到现在，我们不求收入但求发展，我们要做最好的CMS产品，做成普几率最高的CMS产品，我们从陕西转到酷6，现在我们的东家就是盛大，有非常雄厚资金基础，我们有更广阔空间来发展我们自身的产品，我们的未来可能做更多的事情，我们做企业行业，做一个开放平台，让更多插件，开发者加入到我们产品中来，让更多开发者通过我们这个平台实现自己的一个理想，实现盈利，最后我想告诉大家既然选择PHPCMS就等于选择了成功，谢谢大家